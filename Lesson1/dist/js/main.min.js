"use strict";function openCloseMenu(e){var t=$(".title_navbar"),n=$(".show-menu");"open"===e?(t.style.left="0",n.style.left="0",isOpen=!0):"close"===e&&(t.style.left="-273px",n.style.left="-240px",isOpen=!1)}function showError(e){e.classList.add("error-input")}function resetError(e){e.classList.remove("error-input")}function validate(){var e=Array.from($(".message_form").elements),t=!0;return e.forEach(function(e){resetError(e),e.value||(showError(e),t=t&&!1)}),e[1].value.match(/.+@.+/g)||(showError(e[1]),t=t&&!1),t}var $=function(e){return document.querySelector(e)},isOpen=!1;$("#hamburger").onclick=function(e){return openCloseMenu(isOpen?"close":"open")},$("#content").onclick=function(e){return openCloseMenu("close")},$(".title_navbar").onclick=function(e){return openCloseMenu("close")};var $=function(e){return document.querySelector(e)};$("#contact-form").onclick=function(e){return $(".layout").style.display="flex"},$("#close").onclick=function(e){return $(".layout").style.display="none"},$(".message_form").onsubmit=function(){var e=Array.from($(".message_form").elements);if(!validate())return!1;var t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");t.open("POST","https://mandrillapp.com/api/1.0/messages/send.json"),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.onreadystatechange=function(){200===t.status&&console.log("Mail sended!"),500===t.status&&console.log("Check apikey")},t.send(JSON.stringify({key:"dpsUU8LGRK-5Gqj_oND8kw",message:{from_email:e[1].value,to:[{email:"my_mail@mail.ru",name:e[0].value,type:"to"}],autotext:e[3].value,subject:e[2].value,html:""}}))};var inputs=document.getElementsByTagName("input");Array.from(inputs).forEach(function(e){e.addEventListener("input",function(){return resetError(e)})}),describe("prevNextSlide",function(){it("inc position",function(){window.position=0,window.prevNextSlide("next"),assert.equal(window.position,1)}),it("inc position",function(){position=carousel.querySelectorAll("li").length-1,window.prevNextSlide("next"),assert.equal(window.position,0)}),it("dec position",function(){window.position=carousel.querySelectorAll("li").length-1,window.prevNextSlide("prev"),assert.equal(window.position,carousel.querySelectorAll("li").length-2)}),it("dec position",function(){window.position=0,window.prevNextSlide("prev"),assert.equal(window.position,carousel.querySelectorAll("li").length-1)})}),describe("openCloseMenu",function(){it("open menu",function(){window.isOpen=!1,window.openCloseMenu("open"),assert.equal(window.isOpen,!0)}),it("close menu",function(){window.isOpen=!0,window.openCloseMenu("close"),assert.equal(window.isOpen,!1)})}),describe("validate",function(){for(var e=Array.from(document.querySelector(".message_form").elements),t=0;t<e.length-1;++t)e[t].value="test";e[1].value="test@example.ru",before(function(){for(var t=0;t<e.length-1;++t)e[t].value="test";e[1].value="test@example.ru"}),after(function(){for(var t=0;t<e.length-1;++t)e[t].value="",resetError(e[t])}),it("all",function(){assert.equal(window.validate(),!0)}),it("name",function(){e[0].value="",assert.equal(window.validate(),!1)}),it("email_without@",function(){e[1].value="test",assert.equal(window.validate(),!1)}),it("email",function(){e[1].value="test@",assert.equal(window.validate(),!1)}),it("email",function(){e[1].value="@test",assert.equal(window.validate(),!1)}),it("email_full",function(){e[1].value="test@test",assert.equal(window.validate(),!1)}),it("email_empty",function(){e[1].value="",assert.equal(window.validate(),!1)}),it("subject",function(){e[2].value="",assert.equal(window.validate(),!1)}),it("message",function(){e[3].value="",assert.equal(window.validate(),!1)}),it("all",function(){e[3].value="",assert.equal(window.validate(),!1)})});